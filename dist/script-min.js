var NJEvent=function(){this.events={}};NJEvent.prototype.on=function(t,e,n){if("function"!=typeof e)throw"invalid listener.";let o=n||Math.random().toString(36).substring(7);return(this.events[t]=this.events[t]||{})[o]={cb:e},o},NJEvent.prototype.once=function(t,e,n){let o=this.on(t,e,n);this.events[t][o].once=!0},NJEvent.prototype.off=function(t,e){t&&e?delete this.events[t][e]:delete this.events[t]},NJEvent.prototype.emit=function(t){var e=[].slice.call(arguments,1);Object.keys(this.events[t]||{}).forEach(n=>{let o=this.events[t][n];o.cb(1==e.length?e[0]:e),o.once&&this.off(t,n)})};