var NJEvents=function(){this.events={}};NJEvents.prototype.on=function(t,e,n){if("function"!=typeof e)throw"invalid listener.";let s=n||Math.random().toString(36).substring(7);return(this.events[t]=this.events[t]||{})[s]={cb:e},s},NJEvents.prototype.once=function(t,e,n){let s=this.on(t,e,n);this.events[t][s].once=!0},NJEvents.prototype.off=function(t,e){t&&e?delete this.events[t][e]:delete this.events[t]},NJEvents.prototype.emit=function(t){var e=[].slice.call(arguments,1);Object.keys(this.events[t]||{}).forEach(n=>{let s=this.events[t][n];s.cb(1==e.length?e[0]:e),s.once&&this.off(t,n)})};