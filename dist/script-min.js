!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.NJEvents=t()}(this,function(){"use strict";return class{constructor(){this.events={},this.listeners={}}on(e,t,s){if("function"!=typeof t)throw"invalid listener.";let i=s||Math.random().toString(36).substring(7);return(this.events[e]=this.events[e]||[]).push(i),this.listeners[i]={cb:t,ev:e},i}once(e,t,s){let i=this.on(e,t,s);this.listeners[i].once=!0}off(e){if(this.events[e])this.events[e].forEach(e=>{delete this.listeners[e]}),delete this.events[e];else if(this.listeners[e]){let t=this.listeners[e];this.events[t.ev].splice(e,1),delete this.listeners[e]}}emit(e){var t=[].slice.call(arguments,1);(this.events[e]||[]).forEach(s=>{let i=this.listeners[s];i.cb(1==t.length?t[0]:t),i.once&&this.off(e)})}}});