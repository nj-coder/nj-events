class NJEvent{constructor(){this.events={}}on(e,t,s){if("function"!=typeof t)throw"invalid listener.";let n=s||Math.random().toString(36).substring(7);return(this.events[e]=this.events[e]||{})[n]={cb:t},n}once(e,t,s){let n=this.on(e,t,s);this.events[e][n].once=!0}off(e,t){e&&t?delete this.events[e][t]:delete this.events[e]}emit(e){var t=[].slice.call(arguments,1);Object.keys(this.events[e]||{}).forEach(s=>{let n=this.events[e][s];n.cb(1==t.length?t[0]:t),n.once&&this.off(e,s)})}}